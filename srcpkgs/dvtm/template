# Template file for 'dvtm'
pkgname=dvtm
version=0.15
revision=master
makedepends="ncurses-devel"
depends="ncurses" # needs tic at post-install
short_desc="Tiling window manager for the console"
maintainer="Juan RP <xtraeme@voidlinux.eu>"
homepage="http://www.brain-dump.org/projects/dvtm/"
license="MIT"
distfiles="http://repo.or.cz/dvtm.git/snapshot/refs/heads/master.tar.gz"
wrksrc="dvtm-master"
checksum=fb5e029792da8d77ffcf23564fefa485353b329a7e48292d98732d01942fa6f3

do_extract() {
	tar -xf ${XBPS_SRCDISTDIR}/dvtm-${version}/master.tar.gz --strip-components 1
}
do_build() {
	cp ${FILESDIR}/config.h config.h
	# Do not run tic, useless in build environment.
	sed -i 's,tic,/bin/true,g' Makefile
	make CC=$CC V=1
}
do_install() {
	make PREFIX=/usr DESTDIR=${DESTDIR} install
	vlicense LICENSE
	vinstall dvtm.info 644 usr/share/terminfo/d
}
